{"ast":null,"code":"import { Actions, createEffect, ofType } from '@ngrx/effects';\nimport { of } from 'rxjs';\nimport { map, catchError, switchMap } from 'rxjs/operators';\nimport { FileService } from '../../core/services/file.service';\nimport * as FileActions from '../actions/file.actions';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@ngrx/effects\";\nimport * as i2 from \"../../core/services/file.service\";\nexport let FileEffects = /*#__PURE__*/(() => {\n  class FileEffects {\n    constructor(actions$, fileService) {\n      this.actions$ = actions$;\n      this.fileService = fileService;\n      this.loadFiles$ = createEffect(() => this.actions$.pipe(ofType(FileActions.loadFiles), switchMap(({\n        page,\n        size,\n        sortBy,\n        sortDir\n      }) => this.fileService.getFiles(page, size, sortBy, sortDir).pipe(map(response => FileActions.loadFilesSuccess({\n        files: response.data\n      })), catchError(error => of(FileActions.loadFilesFailure({\n        error\n      })))))));\n      this.uploadFile$ = createEffect(() => this.actions$.pipe(ofType(FileActions.uploadFile), switchMap(({\n        file\n      }) => this.fileService.uploadFile(file).pipe(map(response => FileActions.uploadFileSuccess({\n        file: response.data\n      })), catchError(error => of(FileActions.uploadFileFailure({\n        error\n      })))))));\n      this.deleteFile$ = createEffect(() => this.actions$.pipe(ofType(FileActions.deleteFile), switchMap(({\n        id\n      }) => this.fileService.deleteFile(id).pipe(map(() => FileActions.deleteFileSuccess({\n        id\n      })), catchError(error => of(FileActions.deleteFileFailure({\n        error\n      })))))));\n    }\n    static {\n      this.ɵfac = function FileEffects_Factory(t) {\n        return new (t || FileEffects)(i0.ɵɵinject(i1.Actions), i0.ɵɵinject(i2.FileService));\n      };\n    }\n    static {\n      this.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n        token: FileEffects,\n        factory: FileEffects.ɵfac\n      });\n    }\n  }\n  return FileEffects;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}